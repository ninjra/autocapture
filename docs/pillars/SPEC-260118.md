# Pillars Declaration: SPEC-260118

## Change summary
- Add UX facade services used by API + CLI for canonical state, settings preview/apply, doctor, delete, and audit.
- Add evidence-first banners and NO EVIDENCE hard-stop in answers.
- Replace web UI with schema-driven settings, status bar, maintenance, and audit views.

## Pillars impact
- Performant: `/api/state` cached snapshot, bounded DB queries, and heartbeat files to avoid heavy polling.
- Accurate: evidence-first banners; NO EVIDENCE short-circuit prevents hallucinated answers.
- Secure: preview/apply token gating, unlock guard reuse, and redaction on settings/audit outputs.
- Citable: audit view surfaces answer citations + claim mappings for verification.

## Enforcement points
- State caching + heartbeat writers: `autocapture/ux/state_store.py`, `autocapture/ux/state_service.py`.
- Banner policy: `autocapture/ux/banners.py`, `/api/answer` integration in `autocapture/api/routers/core.py`.
- Preview/apply token gating: `autocapture/ux/preview.py`, `autocapture/ux/settings_service.py`, `autocapture/ux/delete_service.py`.
- Unlock gating: `autocapture/api/middleware/stack.py`.

## Regression tests
- `tests/test_answer_no_evidence_banner.py`
- `tests/test_api_state.py`
- `tests/test_delete_preview_safety.py`
- `tests/test_ux_preview_token.py`
- `tests/test_ux_diff.py`
- `tests/test_ux_banner_policy.py`
- `tests/test_ux_redaction.py`
